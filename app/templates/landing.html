{% extends "base.html" %}

{% block content %}
    <section id="home" class="hero">
	    <div class="hero-video-bg">
        <iframe src="https://www.youtube.com/embed/4BzjUq921Y4?autoplay=1&mute=1&loop=1&controls=0&showinfo=0&rel=0&iv_load_policy=3&modestbranding=1&playlist=4BzjUq921Y4"
                frameborder="0"
                allowfullscreen></iframe>
		</div>
        <div class="container">
            <div class="hero-content">
                <div class="hero-text">
                    <h1>–°—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–æ <span class="highlight">–±—É–¥—É—â–µ–≥–æ</span> –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å–µ–≥–æ–¥–Ω—è</h1>
                    <p>–ú—ã —Å–æ–∑–¥–∞–µ–º —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –∂–∏–ª—ã–µ –∫–æ–º–ø–ª–µ–∫—Å—ã –∏ –∫–æ–º–º–µ—Ä—á–µ—Å–∫–∏–µ –æ–±—ä–µ–∫—Ç—ã —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –ø–µ—Ä–µ–¥–æ–≤—ã—Ö —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π –∏ –≤—ã—Å–æ—á–∞–π—à–∏—Ö —Å—Ç–∞–Ω–¥–∞—Ä—Ç–æ–≤ –∫–∞—á–µ—Å—Ç–≤–∞.</p>
                    <div class="cta-buttons">
                        <a href="#projects" class="btn btn-primary">–ù–∞—à–∏ –ø—Ä–æ–µ–∫—Ç—ã</a>
                        <a href="#contact" class="btn btn-secondary">–°–≤—è–∑–∞—Ç—å—Å—è —Å –Ω–∞–º–∏</a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- –¢–µ–∫—É—â–∏–µ –ø—Ä–æ–µ–∫—Ç—ã -->
    <section id="projects" class="projects" style="background: #f8f9fa;">
        <div class="container">
            <div class="section-header">
                <h2>–¢–µ–∫—É—â–∏–µ –ø—Ä–æ–µ–∫—Ç—ã</h2>
            </div>

            <div class="project-tabs">
                <button class="tab-btn active" data-city="all">–í—Å–µ –≥–æ—Ä–æ–¥–∞</button>
                {% for city in cities %}
                <button class="tab-btn" data-city="{{ city.slug }}">{{ city.name }}</button>
                {% endfor %}
            </div>

            <div class="projects-list">
                {% for project in projects %}
                <div class="modern-project-card" data-city="{{ project.city.slug if project.city else 'unknown' }}">
                    <div class="project-left">
                        <span class="project-class {% if project.project_class.value == 'economy' %}economy{% elif project.project_class.value == 'comfort' %}comfort{% elif project.project_class.value == 'business' %}business{% elif project.project_class.value == 'premium' %}premium{% elif project.project_class.value == 'elite' %}elite{% endif %}">
                            {% if project.project_class.value == 'economy' %}–≠–∫–æ–Ω–æ–º-–∫–ª–∞—Å—Å{% elif project.project_class.value == 'comfort' %}–ö–æ–º—Ñ–æ—Ä—Ç-–∫–ª–∞—Å—Å{% elif project.project_class.value == 'business' %}–ë–∏–∑–Ω–µ—Å-–∫–ª–∞—Å—Å{% elif project.project_class.value == 'premium' %}–ü—Ä–µ–º–∏—É–º-–∫–ª–∞—Å—Å{% elif project.project_class.value == 'elite' %}–≠–ª–∏—Ç–Ω—ã–π-–∫–ª–∞—Å—Å{% endif %}
                        </span>
                        <h3 class="project-title">{{ project.title }}</h3>
                        {% if project.subtitle %}
                        <p class="project-subtitle">{{ project.subtitle }}</p>
                        {% endif %}

                        <div class="project-meta">
                            <div class="meta-item">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path>
                                    <circle cx="12" cy="10" r="3"></circle>
                                </svg>
                                <span>{{ project.city.name if project.city else '' }}, {{ project.address }}</span>
                            </div>
                            {% if project.implementation_stage %}
                            <div class="meta-item">
                                <strong>–≠—Ç–∞–ø —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:</strong>
                                <span>{{ project.implementation_stage }}</span>
                            </div>
                            {% endif %}
                            {% if project.completion_date %}
                            <div class="meta-item">
                                <strong>–°—Ä–æ–∫ —Å–¥–∞—á–∏:</strong>
                                <span>{{ project.completion_date }}</span>
                            </div>
                            {% endif %}
                        </div>

                        <a href="/projects/{{ project.slug }}" class="btn-details">–ü–æ–¥—Ä–æ–±–Ω–µ–µ</a>
                    </div>
                    <div class="project-right">
                        {% if project.sold_percent > 0 %}
                        <div class="project-sold-badge">–ü—Ä–æ–¥–∞–Ω<br>{{ project.sold_percent }}%</div>
                        {% endif %}
                        {% if project.images and project.images.urls and project.images.urls|length > 1 %}
                        <div class="project-navigation">
                            <button class="nav-arrow nav-prev" data-carousel="project-{{ project.id }}">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <polyline points="15 18 9 12 15 6"></polyline>
                                </svg>
                            </button>
                            <button class="nav-arrow nav-next" data-carousel="project-{{ project.id }}">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <polyline points="9 18 15 12 9 6"></polyline>
                                </svg>
                            </button>
                        </div>
                        {% endif %}
                        <div class="project-carousel" id="project-{{ project.id }}">
                            {% if project.images and project.images.urls and project.images.urls|length > 0 %}
                                {% for image_url in project.images.urls %}
                                <img src="{{ image_url }}" alt="{{ project.title }} {{ loop.index }}" class="project-image-main carousel-image {% if loop.first %}active{% endif %}">
                                {% endfor %}
                            {% else %}
                            <div style="width:100%;height:100%;background:linear-gradient(135deg,#4facfe 0%,#00f2fe 100%);display:flex;align-items:center;justify-content:center;font-size:4rem;color:rgba(255,255,255,0.3)">üè¢</div>
                            {% endif %}
                        </div>
                    </div>
                </div>
                {% endfor %}
            </div>
        </div>
    </section>

    <!-- –û –Ω–∞—Å -->
    <section id="about" class="about">
        <div class="container">
            <div class="about-content">
                <div class="about-text">
                    <h2>–û –∫–æ–º–ø–∞–Ω–∏–∏</h2>
                    <p>Standart Construction ‚Äî –ö–∞–∑–∞—Ö—Å—Ç–∞–Ω—Å–∫–∞—è –¥–µ–≤–µ–ª–æ–ø–µ—Ä—Å–∫–∞—è –∫–æ–º–ø–∞–Ω–∏—è –∏–∑ –ê–∫—Ç–∞—É, —Ä–∞–±–æ—Ç–∞—é—â–∞—è –Ω–∞ —Ä—ã–Ω–∫–µ –∂–∏–ª—å—è —Å 2010 –≥–æ–¥–∞. –ú—ã —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º—Å—è –Ω–∞ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–µ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –∂–∏–ª—ã—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤, –≥–¥–µ –∫–∞—á–µ—Å—Ç–≤–æ, —Å—Ä–æ–∫–∏ –∏ –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å ‚Äî –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç.</p>
                    <p>–°–µ–≥–æ–¥–Ω—è –º—ã —Ä–∞–∑–≤–∏–≤–∞–µ–º —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–æ –≤ –ú–∞–Ω–≥—ã—Å—Ç–∞—É—Å–∫–æ–π –æ–±–ª–∞—Å—Ç–∏ –∏ —Ñ–æ–∫—É—Å–∏—Ä—É–µ–º—Å—è –Ω–∞ –∫–æ–º–ø–ª–µ–∫—Å–∞—Ö –∫–æ–º—Ñ–æ—Ä—Ç –∏ –±–∏–∑–Ω–µ—Å-–∫–ª–∞—Å—Å–∞. –í —Ä–∞–±–æ—Ç–µ –ø—Ä–∏–º–µ–Ω—è–µ–º –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –∏ –æ—Ç–∫—Ä—ã—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —Ö–æ–¥ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–∞ ‚Äî –æ—Ç –µ–∂–µ–Ω–µ–¥–µ–ª—å–Ω—ã—Ö —Ñ–æ—Ç–æ–æ—Ç—á—ë—Ç–æ–≤ –¥–æ –æ–±—â–µ–Ω–∏—è –≤ —Å–æ—Ü—Å–µ—Ç—è—Ö.</p>
                    <a href="#contact" class="btn btn-primary">–û–±—Å—É–¥–∏—Ç—å –ø—Ä–æ–µ–∫—Ç</a>
                </div>
                <div class="about-right">
                    <div class="about-image">
                        <img src="/static/images/about.jpeg" alt="–û –∫–æ–º–ø–∞–Ω–∏–∏">
                    </div>
                    <div class="about-stats">
                        <div class="stat-card">
                            <div class="stat-info">
                                <div class="stat-number" data-target="{{ site.stats_projects_completed if site and site.stats_projects_completed else 50 }}">0</div>
                                <div class="stat-label">–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤</div>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-info">
                                <div class="stat-number" data-target="{{ site.stats_clients if site and site.stats_clients else 1000 }}">0</div>
                                <div class="stat-label">–î–æ–≤–æ–ª—å–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤</div>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-info">
                                <div class="stat-number" data-target="{{ site.stats_years_experience if site and site.stats_years_experience else 15 }}">0</div>
                                <div class="stat-label">–õ–µ—Ç –æ–ø—ã—Ç–∞</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- –£—Å–ª—É–≥–∏ -->
    <section id="services" class="services">
        <div class="container">
            <div class="services-content">
                <div class="services-left">
                    <h2>–ù–∞—à–∏ —É—Å–ª—É–≥–∏</h2>
                    <p class="services-text">Standart Construction —Å–æ—á–µ—Ç–∞–µ—Ç –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª–∏–∑–º, —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –∏ —Å–ª–∞–∂–µ–Ω–Ω—É—é —Ä–∞–±–æ—Ç—É –∫–æ–º–∞–Ω–¥—ã.</p>

                    <p class="services-text">–ú—ã —É–≤–µ—Ä–µ–Ω—ã: –Ω–∞–¥—ë–∂–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞ –∏ –ø—Ä–æ–∑—Ä–∞—á–Ω—ã–π –ø–æ–¥—Ö–æ–¥ ‚Äî –æ—Å–Ω–æ–≤–∞ —É—Å–ø–µ—à–Ω–æ–≥–æ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–∞.</p>

                    <p class="services-text">–ú—ã —Ä–µ–∞–ª–∏–∑—É–µ–º –ø—Ä–æ–µ–∫—Ç—ã –∂–∏–ª—ã—Ö –∫–æ–º–ø–ª–µ–∫—Å–æ–≤, —Å–æ–∑–¥–∞–≤–∞—è –∫–æ–º—Ñ–æ—Ä—Ç–Ω–æ–µ –∏ –¥–æ—Å—Ç–æ–π–Ω–æ–µ –∂–∏–ª—å—ë –¥–ª—è —Å–µ–º–µ–π. –ù–∞—à–∞ —Ü–µ–ª—å ‚Äî –∫–∞—á–µ—Å—Ç–≤–æ –Ω–∞ –∫–∞–∂–¥–æ–º —ç—Ç–∞–ø–µ: –æ—Ç –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –≤–æ–∑–≤–µ–¥–µ–Ω–∏—è –¥–æ –ø–µ—Ä–µ–¥–∞—á–∏ –∫–ª—é—á–µ–π. –ë–ª–∞–≥–æ–¥–∞—Ä—è –æ–ø—ã—Ç—É –∏ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–º—É –ø–æ–¥—Ö–æ–¥—É, –º—ã —Ü–µ–Ω–Ω–æ—Å—Ç—å –¥–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤ –∏ —É–≤–µ—Ä–µ–Ω–Ω–æ —Å—Ç—Ä–æ–∏–º –±—É–¥—É—â–µ–µ.</p>

                    <div class="services-image">
                        <img src="/static/images/services.jpeg">
                    </div>
                </div>

                <div class="services-right">
                    <div class="service-item">
                        <div class="service-number">01</div>
                        <div class="service-content">
                            <h3>–î–µ–≤–µ–ª–æ–ø–º–µ–Ω—Ç –∂–∏–ª—ã—Ö –∫–æ–º–ø–ª–µ–∫—Å–æ–≤</h3>
                            <p>–ú—ã —Å–æ–∑–¥–∞–µ–º —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –∂–∏–ª—ã–µ –ø—Ä–æ–µ–∫—Ç—ã —Å –ø—Ä–æ–¥—É–º–∞–Ω–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π, —É–¥–æ–±–Ω—ã–º–∏ –ø–ª–∞–Ω–∏—Ä–æ–≤–∫–∞–º–∏ –∏ —Ä–∞–∑–≤–∏—Ç–æ–π –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π.</p>
                        </div>
                    </div>

                    <div class="service-item">
                        <div class="service-number">02</div>
                        <div class="service-content">
                            <h3>–ü—Ä–æ–¥–∞–∂–∞ –∫–≤–∞—Ä—Ç–∏—Ä –≤ —Ä–∞—Å—Å—Ä–æ—á–∫—É</h3>
                            <p>–ü—Ä–µ–¥–ª–∞–≥–∞–µ–º —á–µ—Å—Ç–Ω—ã–µ –∏ –ø—Ä–æ–∑—Ä–∞—á–Ω—ã–µ —É—Å–ª–æ–≤–∏—è –ø—Ä–∏–æ–±—Ä–µ—Ç–µ–Ω–∏—è –∂–∏–ª—å—è –≤ —Ä–∞—Å—Å—Ä–æ—á–∫—É –±–µ–∑ –ø—Ä–æ—Ü–µ–Ω—Ç–æ–≤ –∏ –ø–µ—Ä–µ–ø–ª–∞—Ç.</p>
                        </div>
                    </div>

                    <div class="service-item">
                        <div class="service-number">03</div>
                        <div class="service-content">
                            <h3>Trade-in (–æ–±–º–µ–Ω –∞–≤—Ç–æ –Ω–∞ –ø–µ—Ä–≤—ã–π –≤–∑–Ω–æ—Å)</h3>
                            <p>–£–¥–æ–±–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞: –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–≤–æ–π –∞–≤—Ç–æ–º–æ–±–∏–ª—å –∫–∞–∫ –ø–µ—Ä–≤—ã–π –≤–∑–Ω–æ—Å –∑–∞ –∫–≤–∞—Ä—Ç–∏—Ä—É. –ë—ã—Å—Ç—Ä–æ, –≤—ã–≥–æ–¥–Ω–æ –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ.</p>
                        </div>
                    </div>

                    <div class="service-item">
                        <div class="service-number">04</div>
                        <div class="service-content">
                            <h3>–ü–æ–ª–Ω–æ–µ —Å–æ–ø—Ä–æ–≤–æ–∂–¥–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞</h3>
                            <p>–ü–æ–º–æ–≥–∞–µ–º –Ω–∞ –∫–∞–∂–¥–æ–º —ç—Ç–∞–ø–µ: –æ—Ç –≤—ã–±–æ—Ä–∞ –∫–≤–∞—Ä—Ç–∏—Ä—ã –∏ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –¥–æ –ø–æ–ª—É—á–µ–Ω–∏—è –∫–ª—é—á–µ–π –æ—Ç –≤–∞—à–µ–≥–æ –Ω–æ–≤–æ–≥–æ –¥–æ–º–∞.</p>
                        </div>
                    </div>

                    <div class="service-item">
                        <div class="service-number">05</div>
                        <div class="service-content">
                            <h3>–°–µ—Ä–≤–∏—Å –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –∏ –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑–∏</h3>
                            <p>–î–ª—è –Ω–∞—Å –≤–∞–∂–µ–Ω –∫–∞–∂–¥—ã–π –∫–ª–∏–µ–Ω—Ç ‚Äî –º—ã –æ—Ç–∫—Ä—ã—Ç—ã –∫ –¥–∏–∞–ª–æ–≥—É, –∫–æ–Ω—Å—É–ª—å—Ç–∏—Ä—É–µ–º –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º –Ω–∞ –≤—Å–µ—Ö —ç—Ç–∞–ø–∞—Ö —Å–æ—Ç—Ä—É–¥–Ω–∏—á–µ—Å—Ç–≤–∞.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Additional Services -->
    <section class="interesting">
        <div class="container">
            <div class="section-header">
                <h2>–ú–æ–∂–µ—Ç –±—ã—Ç—å –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ</h2>
            </div>

            <div class="interesting-grid">
                <div class="interesting-card">
                    <div class="interesting-image">
                        <img src="https://roberthurstgroup.co.uk/wp-content/uploads/2025/09/Construction-Industry-Job-Search-Tips.jpg" alt="SDN –†–µ—Å—É—Ä—Å—ã">
                    </div>
                    <div class="interesting-content">
                        <h3>–í–∞–∫–∞–Ω—Å–∏–∏</h3>
                        <p>–ú—ã —Ü–µ–Ω–∏–º –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª–æ–≤ –∏ —Ç–∞–ª–∞–Ω—Ç–ª–∏–≤—ã—Ö —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–≤. –ü—Ä–∏—Å–æ–µ–¥–∏–Ω—è–π—Ç–µ—Å—å –∫ –Ω–∞—à–µ–π –∫–æ–º–∞–Ω–¥–µ –∏ —Å—Ç—Ä–æ–π—Ç–µ –±—É–¥—É—â–µ–µ –≤–º–µ—Å—Ç–µ —Å –Ω–∞–º–∏.</p>
                    </div>
                </div>

                <div class="interesting-card">
                    <div class="interesting-image">
                        <img src="https://cdns.sipmm.edu.sg/publication/wp-content/uploads/2017/10/15184957/Five-Key-Criteria-for-Supplier-Evaluation-in-the-Construction-Sector-SIPMM.jpg" alt="–î–∏–∑–∞–π–Ω –∏–Ω—Ç–µ—Ä—å–µ—Ä–æ–≤">
                    </div>
                    <div class="interesting-content">
                        <h3>–ü–æ—Å—Ç–∞–≤—â–∏–∫–∞–º</h3>
                        <p>–û—Ç–∫—Ä—ã—Ç—ã –∫ —Å–æ—Ç—Ä—É–¥–Ω–∏—á–µ—Å—Ç–≤—É —Å –ø–æ–¥—Ä—è–¥–Ω—ã–º–∏ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è–º–∏ –∏ –Ω–∞–¥—ë–∂–Ω—ã–º–∏ –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞–º–∏. –°—Ç–∞–Ω—å—Ç–µ —á–∞—Å—Ç—å—é –Ω–∞—à–∏—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤.</p>
                    </div>
                </div>

                <div class="interesting-card">
                    <div class="interesting-image">
                        <img src="https://gauravdubey.in/wp-content/uploads/2024/03/Recent-Blog-Topics-and-Ideas-for-Construction-Company-1024x683.jpg" alt="SDN CRM">
                    </div>
                    <div class="interesting-content">
                        <h3>Standart Blog</h3>
                        <p>–ß–∏—Ç–∞–π—Ç–µ —Å—Ç–∞—Ç—å–∏ –æ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–µ, —Ç–µ–Ω–¥–µ–Ω—Ü–∏—è—Ö –≤ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ, –¥–∏–∑–∞–π–Ω–µ –∏ —Ä–∞–∑–≤–∏—Ç–∏–∏ –≥–æ—Ä–æ–¥—Å–∫–æ–π —Å—Ä–µ–¥—ã.</p>
                        <a href="#" class="interesting-link">–ü–æ–¥—Ä–æ–±–Ω–µ–µ ‚Üí</a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- –ö–æ–Ω—Ç–∞–∫—Ç—ã -->
    <section id="contact" class="contact">
        <div class="container">
            <div class="contact-content">
                <div class="contact-info">
                    <h2>–°–≤—è–∂–∏—Ç–µ—Å—å —Å –Ω–∞–º–∏</h2>
                    <p>–ì–æ—Ç–æ–≤—ã –æ–±—Å—É–¥–∏—Ç—å –≤–∞—à –ø—Ä–æ–µ–∫—Ç? –ù–∞—à–∏ —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç—ã –≤—Å–µ–≥–¥–∞ –≥–æ—Ç–æ–≤—ã –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—É—é –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—é.</p>
                    <div style="margin-top: 30px;">
                        <a href="#" class="btn btn-secondary">–ó–∞–∫–∞–∑–∞—Ç—å –∑–≤–æ–Ω–æ–∫</a>
                    </div>
                </div>
                <div class="contact-form">
                    <h3 style="margin-bottom: 20px;">–ë—ã—Å—Ç—Ä–∞—è —Å–≤—è–∑—å</h3>
                    <form id="callbackForm">
                        <input type="hidden" name="csrf_token" value="{{ csrf_token }}">
                        <div id="form-messages" class="form-message"></div>
                        <div class="form-group">
                            <label for="quick-name">–ò–º—è</label>
                            <input type="text" id="quick-name" name="name" required>
                        </div>
                        <div class="form-group">
                            <label for="quick-phone">–¢–µ–ª–µ—Ñ–æ–Ω</label>
                            <input type="tel" id="quick-phone" name="phone" required>
                        </div>
                        <button type="submit" class="btn btn-primary" style="width: 100%; margin-top: 10px;">–ü–µ—Ä–µ–∑–≤–æ–Ω–∏—Ç–µ –º–Ω–µ</button>
                    </form>
                </div>
            </div>
        </div>
    </section>

    <!-- –ù–æ–≤–æ—Å—Ç–∏ -->
    <section class="news-section">
        <div class="container">
            <h2 class="news-title">–ù–æ–≤–æ—Å—Ç–∏</h2>

            <div class="news-grid">
                {% if latest_news %}
                    {% for news in latest_news %}
                    <div class="news-card">
                        <a href="/news/{{ news.slug }}" style="text-decoration: none; color: inherit;">
                            <div class="news-image">
                                {% if news.image_path %}
                                    <img src="/static/{{ news.image_path }}" alt="{{ news.title }}" style="width: 100%; height: 100%; object-fit: cover;">
                                {% else %}
                                    <div class="news-placeholder">üì∞</div>
                                {% endif %}
                            </div>
                            <h3 class="news-card-title">{{ news.title }}</h3>
                            {% if news.description %}
                                <p style="color: var(--text-gray); font-size: 0.9rem; margin-top: 10px;">
                                    {{ news.description[:100] }}{% if news.description|length > 100 %}...{% endif %}
                                </p>
                            {% endif %}
                        </a>
                    </div>
                    {% endfor %}
                {% else %}
                    <div class="news-card">
                        <div class="news-image">
                            <div class="news-placeholder">üì∞</div>
                        </div>
                        <h3 class="news-card-title">–ù–æ–≤–æ—Å—Ç–µ–π –ø–æ–∫–∞ –Ω–µ—Ç</h3>
                    </div>
                {% endif %}
            </div>

            <div class="news-load-more">
                <a href="/news" class="btn-load-more">–í—Å–µ –Ω–æ–≤–æ—Å—Ç–∏</a>
            </div>
        </div>
    </section>

    <script>
    document.getElementById('callbackForm').addEventListener('submit', async function(e) {
        e.preventDefault();

        const form = e.target;
        const name = form.querySelector('input[name="name"]').value;
        const phone = form.querySelector('input[name="phone"]').value;
        const messagesDiv = document.getElementById('form-messages');
        const button = form.querySelector('button[type="submit"]');

        button.disabled = true;
        button.textContent = '–û—Ç–ø—Ä–∞–≤–∫–∞...';
        messagesDiv.style.display = 'none';
        messagesDiv.className = 'form-message';

        try {
            const response = await fetchWithCsrf('/request-callback', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({ name, phone }),
            });

            const result = await response.json();

            if (response.ok) {
                messagesDiv.textContent = result.message;
                messagesDiv.classList.add('success');
                form.reset();
            } else {
                messagesDiv.textContent = result.message || '–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞.';
                messagesDiv.classList.add('error');
            }
        } catch (error) {
            messagesDiv.textContent = '–°–µ—Ç–µ–≤–∞—è –æ—à–∏–±–∫–∞. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ.';
            messagesDiv.classList.add('error');
        } finally {
            messagesDiv.style.display = 'block';
            button.disabled = false;
            button.textContent = '–ü–µ—Ä–µ–∑–≤–æ–Ω–∏—Ç–µ –º–Ω–µ';
        }
    });

    document.addEventListener('DOMContentLoaded', function() {
        const stats = document.querySelectorAll('.stat-number');
        let animated = false;

        const animateCounter = (element) => {
            const target = parseInt(element.getAttribute('data-target'));
            const duration = 2000; // 2 seconds
            const increment = target / (duration / 16); // 60 FPS
            let current = 0;

            const updateCounter = () => {
                current += increment;
                if (current < target) {
                    element.textContent = Math.floor(current);
                    requestAnimationFrame(updateCounter);
                } else {
                    element.textContent = target;
                }
            };

            updateCounter();
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting && !animated) {
                    animated = true;
                    stats.forEach(stat => animateCounter(stat));
                    observer.disconnect();
                }
            });
        }, { threshold: 0.5 });

        const aboutSection = document.querySelector('#about');
        if (aboutSection) {
            observer.observe(aboutSection);
        }
    });
    </script>
{% endblock %}